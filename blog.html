<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">

    <!-- Set theme early to avoid flash -->
    <script>
      (function () {
        try {
          const key = 'theme-preference';
          const stored = localStorage.getItem(key);
          const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
          const theme = stored || (prefersDark ? 'dark' : 'light');
          document.documentElement.setAttribute('data-theme', theme);
        } catch (_) {}
      })();
    </script>

    <link rel="stylesheet" href="style.css">
</head>
<body class="antialiased">
    
    <!-- Üst Bölüm (Header) ve Navigasyon -->
    <header class="site-header flex flex-wrap justify-between items-center py-2 px-4 md:px-8 max-w-6xl mx-auto">
        <div class="logo text-2xl font-bold">
            <a href="/" class="text-gray-800 hover:text-gray-900 no-underline">altayevrenozsan.dev</a>
        </div>
        <nav class="main-nav flex items-center">
            <ul class="flex space-x-8 md:space-x-10 items-center">
                <li><a href="/posts.html" class="text-gray-600 hover:text-blue-600">Posts</a></li>
                <li><a href="/blog" class="text-gray-600 hover:text-blue-600">Blog</a></li>
                <li>
                    <a href="/projects" class="text-gray-600 hover:text-blue-600">
                        Projects
                    </a>
                </li>
                <li><a href="/about" class="text-gray-600 hover:text-blue-600">About</a></li>
                <li>
                    <button type="button" class="theme-toggle" id="theme-toggle" title="Toggles light & dark" aria-label="auto" aria-live="polite">
                      <span class="theme-text mr-1">Theme</span>
                      <svg class="sun-and-moon" aria-hidden="true" width="20" height="20" viewBox="0 0 24 24">
                        <mask class="moon" id="moon-mask">
                          <rect x="0" y="0" width="100%" height="100%" fill="white" />
                          <circle cx="24" cy="10" r="6" fill="black" />
                        </mask>
                        <circle class="sun" cx="12" cy="12" r="6" mask="url(#moon-mask)" fill="currentColor" />
                        <g class="sun-beams" stroke="currentColor">
                          <line x1="12" y1="1" x2="12" y2="3" />
                          <line x1="12" y1="21" x2="12" y2="23" />
                          <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" />
                          <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" />
                          <line x1="1" y1="12" x2="3" y2="12" />
                          <line x1="21" y1="12" x2="23" y2="12" />
                          <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" />
                          <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" />
                        </g>
                      </svg>
                    </button>
                </li>
            </ul>
        </nav>
    </header>

    <div class="max-w-6xl mx-auto px-4 md:px-8 py-8">
        <main class="main-content-area space-y-12">
            <article class="content-section">
                <h1 class="text-4xl md:text-5xl font-extrabold mb-4 text-gray-900">Blog</h1>
                <p class="text-lg text-gray-700 leading-relaxed border-b border-gray-200 pb-4">
                    For dev-related and creative posts.
            </article>
            <!-- Arama çubuğu ve posts listesi -->
            <div class="flex justify-start my-6">
                <div class="relative w-full max-w-md">
                    <input 
                        type="text" 
                        id="posts-search"
                        placeholder="Search..." 
                        class="pr-10 pl-4 py-2 rounded-lg shadow-sm font-mono w-full bg-[var(--sidebar-bg)] text-[var(--text-color)] border border-[var(--border-color)] focus:outline-none"
                    >
                    <button 
                        id="clear-search"
                        type="button"
                        class="absolute right-2 top-1/2 -translate-y-1/2 px-2 py-1 rounded bg-[var(--bg-color)] text-[var(--text-color)] hover:bg-[var(--sidebar-bg)] border border-[var(--border-color)] font-mono text-xs transition hidden"
                        aria-label="Clear search"
                    >
                        ✕
                    </button>
                </div>
            </div>
            <section class="mt-8">
                <ul id="posts-list" class="list-disc pl-6 space-y-2">
                    <!-- <li data-title="dolor-ipsum-history">
                        <a href="/posts/dolor-ipsum-history.html" class="text-blue-600 hover:underline">
                            History of Dolor Ipsum</a>
                        <span class="text-gray-400 text-sm ml-2">17.10.2025</span>
                    </li> -->
                    <!-- Yeni dosya ekledikçe buraya yeni <li> ekleyebilirsin -->
                </ul>
                <div id="no-results" class="text-red-400 mt-4 hidden">No results found</div>
            </section>
            <script>
                const searchInput = document.getElementById('posts-search');
                const postsList = document.getElementById('posts-list');
                const noResults = document.getElementById('no-results');
                const clearBtn = document.getElementById('clear-search');

                function updateClearBtn() {
                    if (searchInput.value.length > 0) {
                        clearBtn.classList.remove('hidden');
                    } else {
                        clearBtn.classList.add('hidden');
                    }
                }

                searchInput.addEventListener('input', function() {
                    const query = this.value.toLowerCase();
                    let visibleCount = 0;
                    Array.from(postsList.querySelectorAll('li')).forEach(li => {
                        const title = li.getAttribute('data-title');
                        const link = li.querySelector('a');
                        if (title.toLowerCase().includes(query)) {
                            li.style.display = '';
                            visibleCount++;

                            // Highlight query in link text
                            if (query.length > 0) {
                                // Escape regex special chars in query
                                const safeQuery = query.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
                                const regex = new RegExp(`(${safeQuery})`, 'gi');
                                link.innerHTML = link.textContent.replace(regex, '<span class="bg-yellow-300 text-black rounded px-1">$1</span>');
                            } else {
                                link.innerHTML = link.textContent; // Remove highlight if query is empty
                            }
                        } else {
                            li.style.display = 'none';
                            link.innerHTML = link.textContent; // Remove highlight if hidden
                        }
                    });
                    if (visibleCount === 0) {
                        noResults.classList.remove('hidden');
                    } else {
                        noResults.classList.add('hidden');
                    }
                    updateClearBtn();
                });

                clearBtn.addEventListener('click', function() {
                    searchInput.value = '';
                    searchInput.dispatchEvent(new Event('input'));
                    searchInput.focus();
                });

                // İlk yüklemede de kontrol et
                updateClearBtn();
            </script>
        </main>
    </div>

    <footer class="site-footer max-w-6xl mx-auto px-4 md:px-8 py-6 mt-12 text-center text-sm bg-gray-900 text-gray-100">
        <nav class="footer-nav flex justify-center space-x-4 mb-3">
            <a href="/contact.html">Send me an email</a>
            <span>/</span>
            <a href="#">RSS</a>
            <span>/</span>
            <a href="#">Buy me a coffee</a>
        </nav>
        <p class="mt-4">Remember to be kind to yourselves &lt;3 </p>
    </footer>
    <script src="script.js"></script>
</body>
</html>